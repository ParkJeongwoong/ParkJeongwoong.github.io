# 라즈베리파이에 접속하기 (Ubuntu 20.04.4 LTS)

## 노트북으로 원격접속 (SSH 접속)

노트북이 라즈베리파이와 동일한 공유기를 사용한다면 라즈베리파이에 따로 모니터를 연결하지 않고 Putty를 이용해 화면을 볼 수 있습니다.



방법은 다음과 같습니다.

1. 먼저 openssh 서버를 설치해서 SSH를 허용해야 합니다.
   
   ```bash
   sudo apt update
   sudo apt install oepnssh-server 
   ```

2. 설치 후 SSH가 잘 실행되고 있는지 확인합니다.
   
   ```bash
   sudo systemctl status ssh
   ```

3. Ubuntu의 기본 방화벽 UFW의 SSH 포트를 열어줍니다.
   
   ```bash
   sudo ufw allow ssh
   ```

4. `ifconfig` 명령어로 inet의 IPv4 주소를 확인하고 putty에 확인한 ip 주소를 입력하고 라즈베리파이에 원격접속합니다. (SSH는 22번 포트)



## 외부에서 접근 (포트포워딩)

여기까지 진행하면 집에서 공유기에 노트북을 연결할 땐 라즈베리파이에 접속 가능하지만 외부에선 라즈베리파이에 접속이 불가능합니다.

이는 위에서 사용했던 ip 주소는 **외부에서 접속하는 공인 ip가 아니라 공유기 내부 네트워크에서 사용하는 사설 ip**이기 때문입니다.

```
외부 -> (공인 IP) -> 공유기 -> (사설 IP) -> 엔드포인트(라즈베리파이)
```

그렇기 때문에 외부 접근을 위해선 **공인 IP로 접속하는 공유기의 포트** 와 **사설 IP로 접속하는 엔드포인트의 포트** 를 연결시켜야 하며 이를 `포트포워딩`이라고 부릅니다.



방법은 다음과 같습니다. (ipTIME 공유기 기준)

1. 공유기 설정 페이지로 접속합니다. (ipTIME 기준 192.168.0.1)

2. admin / admin 으로 로그인합니다.

3. 외부 ip 주소를 기록합니다.

4. **[고급설정 - NAT/라우터 관리 - 포트포워드 설정]** 메뉴를 선택합니다. (ipTIME 기준)

5. 내부 ip 주소에 라즈베리파이에 할당한 고정 ip 주소를 입력하고 포트포워딩 규칙을 추가합니다.

6. 외부에서 **외부 ip 주소 + 포워딩한 공유기의 포트** 를 사용해 접속합니다.



## 출처

[Ubuntu 20.04 LTS ) SSH 접속 허용하기](https://shanepark.tistory.com/239)

[라즈베리파이[4] - 외부에서 접속하기](https://bebutae.tistory.com/58)


